import{_ as e,c as s,o as n,ae as t}from"./chunks/framework.C7gvd0FP.js";const r="/frontEnd-repository/assets/react-work.Bm9mVtiP.svg",b=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"sourceCode/react/summary.md","filePath":"sourceCode/react/summary.md","lastUpdated":1764669426000}'),c={name:"sourceCode/react/summary.md"};function p(l,a,i,o,d,h){return n(),s("div",null,[...a[0]||(a[0]=[t(`<h2 id="_1-react仓库目录" tabindex="-1">1.React仓库目录 <a class="header-anchor" href="#_1-react仓库目录" aria-label="Permalink to &quot;1.React仓库目录&quot;">​</a></h2><p>React(19.2)基于Monorepo方式进行仓库管理,其相关源码包位于仓库的packages目录下。</p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>packages/</span></span>
<span class="line"><span>├── dom-event-testing-library/</span></span>
<span class="line"><span>├── eslint-plugin-react-hooks/</span></span>
<span class="line"><span>├── internal-test-utils/</span></span>
<span class="line"><span>├── jest-react/</span></span>
<span class="line"><span>├── react/</span></span>
<span class="line"><span>├── react-art/</span></span>
<span class="line"><span>├── react-cache/</span></span>
<span class="line"><span>├── react-client/</span></span>
<span class="line"><span>├── react-debug-tools/</span></span>
<span class="line"><span>├── react-devtools/</span></span>
<span class="line"><span>├── react-devtools-core/</span></span>
<span class="line"><span>├── react-devtools-extensions/</span></span>
<span class="line"><span>├── react-devtools-fusebox/</span></span>
<span class="line"><span>├── react-devtools-inline/</span></span>
<span class="line"><span>├── react-devtools-shared/</span></span>
<span class="line"><span>├── react-devtools-shell/</span></span>
<span class="line"><span>├── react-devtools-timeline/</span></span>
<span class="line"><span>├── react-dom/</span></span>
<span class="line"><span>├── react-dom-bindings/</span></span>
<span class="line"><span>├── react-is/</span></span>
<span class="line"><span>├── react-markup/</span></span>
<span class="line"><span>├── react-native-renderer/</span></span>
<span class="line"><span>├── react-noop-renderer/</span></span>
<span class="line"><span>├── react-reconciler/</span></span>
<span class="line"><span>├── react-refresh/</span></span>
<span class="line"><span>├── react-server/</span></span>
<span class="line"><span>├── react-server-dom-esm/</span></span>
<span class="line"><span>├── react-server-dom-fb/</span></span>
<span class="line"><span>├── react-server-dom-parcel/</span></span>
<span class="line"><span>├── react-server-dom-turbopack/</span></span>
<span class="line"><span>├── react-server-dom-webpack/</span></span>
<span class="line"><span>├── react-suspense-test-utils/</span></span>
<span class="line"><span>├── react-test-renderer/</span></span>
<span class="line"><span>├── scheduler/</span></span>
<span class="line"><span>├── shared/</span></span>
<span class="line"><span>├── use-subscription/</span></span>
<span class="line"><span>└── use-sync-external-store/</span></span></code></pre></div><p>根据不同职责,可以将react的package包分为六类: 核心包、服务端渲染、渲染器、开发工具、工具包、实验性功能、绑定层。</p><h3 id="_1-1-react核心包" tabindex="-1">1.1 react核心包 <a class="header-anchor" href="#_1-1-react核心包" aria-label="Permalink to &quot;1.1 react核心包&quot;">​</a></h3><p>顾名思义，react核心包是react的核心功能，是react的基础，也是react的核心。</p><div class="language-text vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>├── react/</span></span>
<span class="line"><span>├── react-reconciler/</span></span>
<span class="line"><span>├── scheduler/</span></span></code></pre></div><h4 id="_1-1-1-react" tabindex="-1">1.1.1 react <a class="header-anchor" href="#_1-1-1-react" aria-label="Permalink to &quot;1.1.1 react&quot;">​</a></h4><p>这是React的基础包，提供了所有React组件的基本API，如 React.createElement、React.Component、React.useState等。包定义了React的公共接口，但不包含任何渲染相关的代码。当在项目中导入React时，实际上就是导入这个包。</p><h4 id="_1-1-2-react-reconciler" tabindex="-1">1.1.2 react-reconciler <a class="header-anchor" href="#_1-1-2-react-reconciler" aria-label="Permalink to &quot;1.1.2 react-reconciler&quot;">​</a></h4><p>React的核心调和引擎，主要负责Fiber架构。当组件状态发生变化时，reconciler会计算出哪些DOM需要更新，然后交给渲染器执行实际的DOM操作。reconciler是React性能优化的核心所在，它实现了时间切片、优先级调度等特性，以保证用户体验的流畅性。</p><h4 id="_1-1-3-scheduler" tabindex="-1">1.1.3 scheduler <a class="header-anchor" href="#_1-1-3-scheduler" aria-label="Permalink to &quot;1.1.3 scheduler&quot;">​</a></h4><p>调度器负责任务的优先级管理和执行时机控制。React通过scheduler来实现时间切片和并发模式，使得React可以在不阻塞主线程的情况下执行渲染工作。scheduler会根据任务优先级和浏览器的空闲时间来安排任务执行，确保用户交互的流畅性。</p><h3 id="_1-2-渲染器相关包" tabindex="-1">1.2 渲染器相关包 <a class="header-anchor" href="#_1-2-渲染器相关包" aria-label="Permalink to &quot;1.2 渲染器相关包&quot;">​</a></h3><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>├── react-dom/</span></span>
<span class="line"><span>├── react-native-renderer/</span></span>
<span class="line"><span>├── react-art/</span></span>
<span class="line"><span>├── react-test-renderer/</span></span></code></pre></div><h4 id="_1-2-1-react-dom" tabindex="-1">1.2.1 react-dom <a class="header-anchor" href="#_1-2-1-react-dom" aria-label="Permalink to &quot;1.2.1 react-dom&quot;">​</a></h4><p>React最常用的渲染器，负责将React组件渲染到浏览器DOM中。它包含了所有与浏览器DOM交互的代码，如事件系统、属性处理等。同时react-dom还提供了服务端渲染的功能（ReactDOMServer）。</p><h4 id="_1-2-2-react-native-renderer" tabindex="-1">1.2.2 react-native-renderer <a class="header-anchor" href="#_1-2-2-react-native-renderer" aria-label="Permalink to &quot;1.2.2 react-native-renderer&quot;">​</a></h4><p>React Native的渲染器，负责将React组件渲染为原生移动应用UI组件，将React的声明式编程模型带到了移动应用开发中。</p><h4 id="_1-2-3-react-art" tabindex="-1">1.2.3 react-art <a class="header-anchor" href="#_1-2-3-react-art" aria-label="Permalink to &quot;1.2.3 react-art&quot;">​</a></h4><p>一个用于绘制矢量图形的渲染器，可以将React组件渲染为SVG、Canvas等图形。</p><h4 id="_1-2-4-react-test-renderer" tabindex="-1">1.2.4 react-test-renderer <a class="header-anchor" href="#_1-2-4-react-test-renderer" aria-label="Permalink to &quot;1.2.4 react-test-renderer&quot;">​</a></h4><p>用于测试的渲染器，可以将React组件渲染为纯JavaScript对象，方便进行快照测试和单元测试。它不依赖DOM环境，可以在Node.js中运行。</p><h3 id="_1-3-开发工具相关包" tabindex="-1">1.3 开发工具相关包 <a class="header-anchor" href="#_1-3-开发工具相关包" aria-label="Permalink to &quot;1.3 开发工具相关包&quot;">​</a></h3><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>├── react-devtools-core/</span></span>
<span class="line"><span>├── react-devtools-extensions/</span></span>
<span class="line"><span>├── react-refresh/</span></span></code></pre></div><h4 id="_1-3-1-react-devtools-core-包" tabindex="-1">1.3.1 react-devtools-core 包 <a class="header-anchor" href="#_1-3-1-react-devtools-core-包" aria-label="Permalink to &quot;1.3.1 react-devtools-core 包&quot;">​</a></h4><p>这是React开发者工具的核心实现，提供了组件树检查、性能分析等功能的底层支持。</p><h4 id="_1-3-2-react-devtools-extensions" tabindex="-1">1.3.2 react-devtools-extensions <a class="header-anchor" href="#_1-3-2-react-devtools-extensions" aria-label="Permalink to &quot;1.3.2 react-devtools-extensions&quot;">​</a></h4><p>基于core包构建的浏览器扩展，为Chrome、Firefox等浏览器提供React调试工具。这些工具可以帮助开发者检查组件层次结构、props和state变化、性能瓶颈等。</p><h4 id="_1-3-3-react-refresh" tabindex="-1">1.3.3 react-refresh <a class="header-anchor" href="#_1-3-3-react-refresh" aria-label="Permalink to &quot;1.3.3 react-refresh&quot;">​</a></h4><p>实现了React的热更新功能，使得在开发过程中修改代码后，浏览器可以在不丢失组件状态的情况下更新UI。这大大提高了开发效率，是现代React开发工作流的重要组成部分。</p><h3 id="_1-4-服务端渲染相关包" tabindex="-1">1.4 服务端渲染相关包 <a class="header-anchor" href="#_1-4-服务端渲染相关包" aria-label="Permalink to &quot;1.4 服务端渲染相关包&quot;">​</a></h3><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>├── react-devtools-core/</span></span>
<span class="line"><span>├── react-server-dom-webpack/</span></span></code></pre></div><h4 id="_1-4-1-react-server" tabindex="-1">1.4.1 react-server <a class="header-anchor" href="#_1-4-1-react-server" aria-label="Permalink to &quot;1.4.1 react-server&quot;">​</a></h4><p>提供了React服务端渲染的核心功能，支持在Node.js环境中渲染React组件。</p><h4 id="_1-4-2-react-server-dom-webpack" tabindex="-1">1.4.2 react-server-dom-webpack <a class="header-anchor" href="#_1-4-2-react-server-dom-webpack" aria-label="Permalink to &quot;1.4.2 react-server-dom-webpack&quot;">​</a></h4><p>React Server Components的实现，允许组件在服务器上渲染并将结果流式传输到客户端。这种方式可以减少客户端JavaScript的体积，提高首屏加载速度，同时保持React组件模型的一致性。它与webpack集成，处理模块加载和代码分割。</p><h3 id="_1-5-工具包相关包" tabindex="-1">1.5 工具包相关包 <a class="header-anchor" href="#_1-5-工具包相关包" aria-label="Permalink to &quot;1.5 工具包相关包&quot;">​</a></h3><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>├── react-is/</span></span>
<span class="line"><span>├── react-cache/</span></span>
<span class="line"><span>├── shared/</span></span></code></pre></div><h4 id="_1-5-1-react-is" tabindex="-1">1.5.1 react-is <a class="header-anchor" href="#_1-5-1-react-is" aria-label="Permalink to &quot;1.5.1 react-is&quot;">​</a></h4><p>提供了一系列工具函数，用于检测React元素的类型。例如，可以用它来判断一个对象是否是React元素、Fragment、Context等。这在开发库和高阶组件时特别有用。</p><h4 id="_1-5-2-react-cache" tabindex="-1">1.5.2 react-cache <a class="header-anchor" href="#_1-5-2-react-cache" aria-label="Permalink to &quot;1.5.2 react-cache&quot;">​</a></h4><p>实现了资源缓存的功能，主要用于React Suspense特性。它可以缓存异步请求的结果，避免重复请求，提高应用性能。</p><h4 id="_1-5-3-shared" tabindex="-1">1.5.3 shared <a class="header-anchor" href="#_1-5-3-shared" aria-label="Permalink to &quot;1.5.3 shared&quot;">​</a></h4><p>包含了React各个包之间共享的工具函数和常量，如对象池、错误处理、环境检测等。这些代码被多个React包复用，确保了行为的一致性。</p><h3 id="_1-6-绑定层相关包" tabindex="-1">1.6 绑定层相关包 <a class="header-anchor" href="#_1-6-绑定层相关包" aria-label="Permalink to &quot;1.6 绑定层相关包&quot;">​</a></h3><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>├── react-dom-bindings/</span></span>
<span class="line"><span>├── use-subscription/</span></span></code></pre></div><h4 id="_1-6-1-react-dom-bindings" tabindex="-1">1.6.1 react-dom-bindings <a class="header-anchor" href="#_1-6-1-react-dom-bindings" aria-label="Permalink to &quot;1.6.1 react-dom-bindings&quot;">​</a></h4><p>react-dom的底层实现，负责将React的通用渲染逻辑与具体的DOM操作绑定起来。它处理DOM元素的创建、属性更新、事件系统等细节。</p><h4 id="_1-6-2-use-subscription" tabindex="-1">1.6.2 use-subscription <a class="header-anchor" href="#_1-6-2-use-subscription" aria-label="Permalink to &quot;1.6.2 use-subscription&quot;">​</a></h4><p>提供了一个React Hook，用于安全地订阅外部数据源。它确保组件在卸载时正确地取消订阅，避免内存泄漏和无效更新。</p><h2 id="_2-react工作流程" tabindex="-1">2.React工作流程 <a class="header-anchor" href="#_2-react工作流程" aria-label="Permalink to &quot;2.React工作流程&quot;">​</a></h2><p>react的全流程在一定程度上可以分为四个阶段:</p><ul><li>客户端初始化:建立 React 应用的根节点（Root Fiber），构建最初的 Fiber 树结构</li><li>调度/触发阶段:决定何时执行渲染（Render Phase），并保证不同优先级的任务得到合理调度。</li><li>渲染阶段:基于最新的 React Element（JSX 结构）生成新的 Fiber 树，计算出要对 DOM 做的所有变更（副作用）。</li><li>提交阶段:将渲染阶段的副作用（effect list）应用到真实 DOM，并触发生命周期与副作用（useEffect 等）。</li></ul><p><img src="`+r+'" alt="alt render工作流程图"></p>',55)])])}const m=e(c,[["render",p]]);export{b as __pageData,m as default};
